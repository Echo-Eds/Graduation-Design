{"remainingRequest":"D:\\SpringBoot\\demoSpringBootVue\\springbootvue\\node_modules\\thread-loader\\dist\\cjs.js!D:\\SpringBoot\\demoSpringBootVue\\springbootvue\\node_modules\\babel-loader\\lib\\index.js!D:\\SpringBoot\\demoSpringBootVue\\springbootvue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\SpringBoot\\demoSpringBootVue\\springbootvue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\SpringBoot\\demoSpringBootVue\\springbootvue\\src\\views\\consult\\consultList.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\SpringBoot\\demoSpringBootVue\\springbootvue\\src\\views\\consult\\consultList.vue","mtime":1651748783068},{"path":"D:\\SpringBoot\\demoSpringBootVue\\springbootvue\\babel.config.js","mtime":1643167399828},{"path":"D:\\SpringBoot\\demoSpringBootVue\\springbootvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643167392997},{"path":"D:\\SpringBoot\\demoSpringBootVue\\springbootvue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1643167392997},{"path":"D:\\SpringBoot\\demoSpringBootVue\\springbootvue\\node_modules\\babel-loader\\lib\\index.js","mtime":1643167394164},{"path":"D:\\SpringBoot\\demoSpringBootVue\\springbootvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643167392997},{"path":"D:\\SpringBoot\\demoSpringBootVue\\springbootvue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1643167394348}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFN5c0hlYWRlciBmcm9tICIuLi8uLi9jb21wb25lbnRzL3N5cy9TeXNIZWFkZXIudnVlIjsKaW1wb3J0IEluZGV4Q2Fyb3VzZWwgZnJvbSAiLi4vLi4vY29tcG9uZW50cy9zeXMvSW5kZXhDYXJvdXNlbC52dWUiOwppbXBvcnQgU3lzQm90dG9tIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvc3lzL1N5c0JvdHRvbS52dWUiOwppbXBvcnQgcmVxdWVzdCBmcm9tICJAL3V0aWxzL3JlcXVlc3QuanMiOwppbXBvcnQgRSBmcm9tICJ3YW5nZWRpdG9yIjsKdmFyIGVkaXRvcjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJjb25zdWx0TGlzdCIsCiAgY29tcG9uZW50czogewogICAgU3lzSGVhZGVyOiBTeXNIZWFkZXIsCiAgICBJbmRleENhcm91c2VsOiBJbmRleENhcm91c2VsLAogICAgU3lzQm90dG9tOiBTeXNCb3R0b20KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB7fSwKICAgICAgY3VycmVudFBhZ2U0OiAxLAogICAgICBwYWdlU2l6ZTogNSwKICAgICAgdG90YWw6IDIzLAogICAgICBTZWFyY2g6ICIiLAogICAgICB0YWJsZURhdGE6IFtdLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJlcXVlc3QuZ2V0KCIvY29uc3VsdC9nZXRMaXN0IiwgewogICAgICBwYXJhbXM6IHsKICAgICAgICBwYWdlTnVtOiB0aGlzLmN1cnJlbnRQYWdlNCwKICAgICAgICBwYWdlU2l6ZTogdGhpcy5wYWdlU2l6ZSwKICAgICAgICBzZWFyY2g6IHRoaXMuU2VhcmNoCiAgICAgIH0KICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICBfdGhpcy50YWJsZURhdGEgPSByZXMuZGF0YS5yZWNvcmRzOwogICAgICBfdGhpcy50b3RhbCA9IHJlcy5kYXRhLnRvdGFsOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKioNCiAgICAgKiDovazliLDmr4/kuIDmnaHmj5Dpl67nmoTor6bmg4XnlYzpnaINCiAgICAgKi8KICAgIGdvX2NvbnRlbnQ6IGZ1bmN0aW9uIGdvX2NvbnRlbnQocm93KSB7CiAgICAgIGNvbnNvbGUubG9nKHJvdy5pZCk7IC8vIGxldCBpdGVtID0gcm93OwogICAgICAvL+S9v+eUqOW4puWAvOi9rOWPke+8jOavlOaAu+e6v+S8oOWAvOabtOaWueS+vwoKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICIvY29uc3VsdC9jb250ZW50IiwKICAgICAgICBxdWVyeTogewogICAgICAgICAgaWQ6IHJvdy5pZAogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOWOu+WvjOaWh+acrOe8lui+keWZqOeVjOmdouaPkOmXrg0KICAgICAqIOWmguaenOacqueZu+W9leWImeaPkOekuuWOu+eZu+W9lQ0KICAgICAqLwogICAganVtcDogZnVuY3Rpb24ganVtcCgpIHsKICAgICAgdGhpcy5mb3JtID0ge307CiAgICAgIHZhciBzdHIgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ1c2VyIiB8fCAie30iKTsKCiAgICAgIGlmIChzdHIpIHsKICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGVkaXRvciA9IG5ldyBFKCIjcmljaFRleHQiKTsKICAgICAgICAgIGVkaXRvci5jcmVhdGUoKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICBtZXNzYWdlOiAi6K+35YWI55m75b2V5YaN5o+Q6ZeuIgogICAgICAgIH0pOwogICAgICB9CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOWwhuWGheWuueaPkOS6pOWIsOaVsOaNruW6k+S/neWtmA0KICAgICAqLwogICAgdXBsb2FkOiBmdW5jdGlvbiB1cGxvYWQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgLy/lvZPliY3nmbvlvZXnlKjmiLflrZjlnKjvvIzlsLHlrZjkuIDkuKrooajljZXlj5Hnu5nlkI7lj7Dmt7vliqDmlbDmja7lupMKICAgICAgLy/nlKjmiLdJRCDmlofnq6DmoIfpopgg5paH56ug5YaF5a65IOaXtumXtAogICAgICB2YXIgY29udGVudCA9IGVkaXRvci50eHQuaHRtbCgpOwogICAgICB0aGlzLmZvcm0uY29udGVudCA9IGNvbnRlbnQ7CiAgICAgIHZhciBzdHIgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXIiIHx8ICJ7fSIpKTsKICAgICAgY29uc29sZS5sb2coc3RyLmlkKTsKCiAgICAgIGlmIChzdHIpIHsKICAgICAgICB0aGlzLmZvcm0udXNlcklkID0gc3RyLmlkOwogICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTsKICAgICAgICB0aGlzLmZvcm0udGltZSA9IGRhdGU7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5mb3JtKTsKICAgICAgICByZXF1ZXN0LnBvc3QoIi9jb25zdWx0L2FkZENvbnRlbnQiLCB0aGlzLmZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKHJlcy5jb2RlID09ICIwIikgewogICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICBtZXNzYWdlOiAi5o+Q6Zeu5oiQ5Yqf77yM6K+36ICQ5b+D562J5b6F5Zue5aSNIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICBtZXNzYWdlOiByZXMubXNnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzMi5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["D:\\SpringBoot\\demoSpringBootVue\\springbootvue\\src\\views\\consult\\consultList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <SysHeader></SysHeader>\r\n  <IndexCarousel></IndexCarousel>\r\n  <el-row>\r\n    <el-col>\r\n      <div class=\"search\">\r\n        <el-input\r\n          style=\"margin: 10px 10px; width: 20%\"\r\n          v-model=\"Search\"\r\n          placeholder=\"查询信息\"\r\n          clearable\r\n          size=\"large\"\r\n        />\r\n        <el-button\r\n          type=\"primary\"\r\n          round\r\n          size=\"large\"\r\n          color=\"#40a9ff\"\r\n          @click=\"search\"\r\n          style=\"margin: 10px 10px\"\r\n        >\r\n          <el-icon><search /></el-icon>查询</el-button\r\n        >\r\n      </div>\r\n    </el-col>\r\n  </el-row>\r\n  <el-divider></el-divider>\r\n  <el-row>\r\n    <el-col :span=\"6\"></el-col>\r\n    <el-col :span=\"12\">\r\n      <el-table\r\n        :data=\"tableData\"\r\n        style=\"width: 100%\"\r\n        :row-style=\"{ height: '70px' }\"\r\n        stripe\r\n        @row-click=\"go_content\"\r\n      >\r\n        <el-table-column prop=\"time\" label=\"日期\" align=\"center\" min-width=\"25%\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"title\" label=\"标题\" align=\"center\" min-width=\"60%\">\r\n        </el-table-column>\r\n      </el-table>\r\n      <br />\r\n      <div\r\n        class=\"pagination\"\r\n        style=\"margin: 10px 0; display: flex; justify-content: center\"\r\n      >\r\n        <el-pagination\r\n          v-model:currentPage=\"currentPage4\"\r\n          :page-sizes=\"[5, 10, 20]\"\r\n          :page-size=\"pageSize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"total\"\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n        >\r\n        </el-pagination>\r\n        <el-button\r\n          type=\"primary\"\r\n          round\r\n          @click=\"jump\"\r\n          size=\"large\"\r\n          style=\"margin: -4px 50px\"\r\n          color=\"#40a9ff\"\r\n          ><el-icon><edit-pen /></el-icon>&nbsp;询问专家</el-button\r\n        >\r\n      </div>\r\n    </el-col>\r\n    <el-col :span=\"6\"></el-col>\r\n  </el-row>\r\n  <br />\r\n  <br />\r\n  <SysBottom></SysBottom>\r\n\r\n  <!-- WangEditor -->\r\n\r\n  <!-- 隐藏的富文本编辑器，点击才打开 -->\r\n  <el-dialog\r\n    v-model=\"dialogVisible\"\r\n    title=\"请输入您所需要咨询的内容\"\r\n    width=\"70%\"\r\n    draggable\r\n  >\r\n    <el-form :model=\"form\">\r\n      <el-form-item prop=\"title\">\r\n        <el-input placeholder=\"请输入标题\" v-model=\"form.title\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item prop=\"content\">\r\n        <div id=\"richText\"></div>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <template #footer>\r\n      <span class=\"dialog-footer\">\r\n        <el-button @click=\"dialogVisible = false\">Cancel</el-button>\r\n        <el-button type=\"primary\" @click=\"upload\">Confirm</el-button>\r\n      </span>\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport SysHeader from \"../../components/sys/SysHeader.vue\";\r\nimport IndexCarousel from \"../../components/sys/IndexCarousel.vue\";\r\nimport SysBottom from \"../../components/sys/SysBottom.vue\";\r\n\r\nimport request from \"@/utils/request.js\";\r\n\r\nimport E from \"wangeditor\";\r\n\r\nlet editor;\r\nexport default {\r\n  name: \"consultList\",\r\n  components: {\r\n    SysHeader,\r\n    IndexCarousel,\r\n    SysBottom,\r\n  },\r\n  data() {\r\n    return {\r\n      form: {},\r\n      currentPage4: 1,\r\n      pageSize: 5,\r\n      total: 23,\r\n      Search: \"\",\r\n      tableData: [],\r\n      dialogVisible: false,\r\n    };\r\n  },\r\n  mounted() {\r\n    request\r\n      .get(\"/consult/getList\", {\r\n        params: {\r\n          pageNum: this.currentPage4,\r\n          pageSize: this.pageSize,\r\n          search: this.Search,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        console.log(res);\r\n        this.tableData = res.data.records;\r\n        this.total = res.data.total;\r\n      });\r\n  },\r\n  methods: {\r\n    /**\r\n     * 转到每一条提问的详情界面\r\n     */\r\n    go_content(row) {\r\n      console.log(row.id);\r\n      // let item = row;\r\n      //使用带值转发，比总线传值更方便\r\n      this.$router.push({\r\n        path: \"/consult/content\",\r\n        query: {\r\n          id: row.id,\r\n        },\r\n      });\r\n    },\r\n    /**\r\n     * 去富文本编辑器界面提问\r\n     * 如果未登录则提示去登录\r\n     */\r\n    jump() {\r\n      this.form = {};\r\n      let str = sessionStorage.getItem(\"user\" || \"{}\");\r\n      if (str) {\r\n        this.dialogVisible = true;\r\n\r\n        this.$nextTick(() => {\r\n          editor = new E(\"#richText\");\r\n          editor.create();\r\n          \r\n        });\r\n      } else {\r\n        this.$message({\r\n          type: \"error\",\r\n          message: \"请先登录再提问\",\r\n        });\r\n      }\r\n    },\r\n    /**\r\n     * 将内容提交到数据库保存\r\n     */\r\n    upload() {\r\n      //当前登录用户存在，就存一个表单发给后台添加数据库\r\n      //用户ID 文章标题 文章内容 时间\r\n      const content = editor.txt.html();\r\n      this.form.content = content;\r\n      let str = JSON.parse(sessionStorage.getItem(\"user\" || \"{}\"));\r\n      console.log(str.id);\r\n      if (str) {\r\n        this.form.userId = str.id;\r\n        let date = new Date();\r\n        this.form.time = date;\r\n        console.log(this.form);\r\n        request.post(\"/consult/addContent\", this.form).then((res) => {\r\n          if (res.code == \"0\") {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"提问成功，请耐心等待回复\",\r\n            });\r\n          } else {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: res.msg,\r\n            });\r\n          }\r\n          this.dialogVisible = false;\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.search {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.main_body {\r\n  width: 100%;\r\n\r\n  background-color: rgb(180, 181, 186);\r\n}\r\n.pagination {\r\n  text-align: center;\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}