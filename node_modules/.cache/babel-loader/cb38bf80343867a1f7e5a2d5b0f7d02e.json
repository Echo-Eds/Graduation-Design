{"remainingRequest":"D:\\SpringBoot\\demoSpringBootVue\\springbootvue\\node_modules\\babel-loader\\lib\\index.js!D:\\SpringBoot\\demoSpringBootVue\\springbootvue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\SpringBoot\\demoSpringBootVue\\springbootvue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\SpringBoot\\demoSpringBootVue\\springbootvue\\src\\views\\shopping\\order.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\SpringBoot\\demoSpringBootVue\\springbootvue\\src\\views\\shopping\\order.vue","mtime":1653891197641},{"path":"D:\\SpringBoot\\demoSpringBootVue\\springbootvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643167392997},{"path":"D:\\SpringBoot\\demoSpringBootVue\\springbootvue\\node_modules\\babel-loader\\lib\\index.js","mtime":1643167394164},{"path":"D:\\SpringBoot\\demoSpringBootVue\\springbootvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643167392997},{"path":"D:\\SpringBoot\\demoSpringBootVue\\springbootvue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1643167394348},{"path":"D:\\SpringBoot\\demoSpringBootVue\\springbootvue\\babel.config.js","mtime":1643167399828},{"path":"D:\\SpringBoot\\demoSpringBootVue\\springbootvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643167392997},{"path":"D:\\SpringBoot\\demoSpringBootVue\\springbootvue\\node_modules\\babel-loader\\lib\\index.js","mtime":1643167394164},{"path":"D:\\SpringBoot\\demoSpringBootVue\\springbootvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643167392997},{"path":"D:\\SpringBoot\\demoSpringBootVue\\springbootvue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1643167394348}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOlxcU3ByaW5nQm9vdFxcZGVtb1NwcmluZ0Jvb3RWdWVcXHNwcmluZ2Jvb3R2dWVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXHRvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCBTeXNIZWFkZXIgZnJvbSAiLi4vLi4vY29tcG9uZW50cy9zeXMvU3lzSGVhZGVyLnZ1ZSI7CmltcG9ydCBJbmRleENhcm91c2VsIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvc3lzL0luZGV4Q2Fyb3VzZWwudnVlIjsKaW1wb3J0IFN5c0JvdHRvbSBmcm9tICIuLi8uLi9jb21wb25lbnRzL3N5cy9TeXNCb3R0b20udnVlIjsKaW1wb3J0IHJlcXVlc3QgZnJvbSAiQC91dGlscy9yZXF1ZXN0LmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICIiLAogIGNvbXBvbmVudHM6IHsKICAgIFN5c0hlYWRlcjogU3lzSGVhZGVyLAogICAgSW5kZXhDYXJvdXNlbDogSW5kZXhDYXJvdXNlbCwKICAgIFN5c0JvdHRvbTogU3lzQm90dG9tCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcjogSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ1c2VyIikpLAogICAgICBvcmRlck5vOiB0aGlzLiRyb3V0ZS5xdWVyeS5vcmRlck5vLAogICAgICB0b3RhbFByaWNlOiAwLAogICAgICBvcmRlclRpbWU6ICIyMDIyLTA1LTA0IiwKICAgICAgYWRkcmVzc0xpc3Q6IFtdLAogICAgICBhZGRyZXNzOiAiIiwKICAgICAgbWVkaWNpbmVMaXN0OiBbXSwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGFsaXBheTogImh0dHA6Ly9sb2NhbGhvc3Q6OTA5MC9maWxlcy9hbGlwYXkuanBnIgogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldE15QWRkcmVzcygpOwogICAgdGhpcy5sb2FkKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRNeUFkZHJlc3M6IGZ1bmN0aW9uIGdldE15QWRkcmVzcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJlcXVlc3QuZ2V0KCIvYWRkcmVzcy9hZGRyZXNzVG9PcmRlci8iICsgdGhpcy51c2VyLmlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIF90aGlzLmFkZHJlc3NMaXN0ID0gcmVzLmRhdGEucmVkdWNlKGZ1bmN0aW9uIChBcnIsIG5leHQpIHsKICAgICAgICAgIHJldHVybiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KEFyciksIFtuZXh0LmFkZHJlc3NdKTsKICAgICAgICB9LCBbXSk7CiAgICAgICAgY29uc29sZS5sb2coX3RoaXMuYWRkcmVzc0xpc3QpOwogICAgICB9KTsKICAgIH0sCiAgICBsb2FkOiBmdW5jdGlvbiBsb2FkKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKHRoaXMub3JkZXJObyk7CiAgICAgIHJlcXVlc3QuZ2V0KCIvY2FydC9nZXRPcmRlck1lZGljaW5lTGlzdC8iICsgdGhpcy5vcmRlck5vKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIubWVkaWNpbmVMaXN0ID0gcmVzLmRhdGEucmVkdWNlKGZ1bmN0aW9uIChBcnIsIG5leHQpIHsKICAgICAgICAgIHJldHVybiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KEFyciksIFtuZXh0XSk7CiAgICAgICAgfSwgW10pOwogICAgICAgIGNvbnNvbGUubG9nKF90aGlzMi5tZWRpY2luZUxpc3QpOwogICAgICB9KTsgLy/ojrflj5blvZPliY3orqLljZXmgLvku7flkozmlK/ku5jnirbmgIEKCiAgICAgIHJlcXVlc3QuZ2V0KCIvY2FydC9nZXRPcmRlclN0YXR1cy8iICsgdGhpcy5vcmRlck5vKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIF90aGlzMi50b3RhbFByaWNlID0gcmVzLmRhdGEudG90YWxQcmljZTsKICAgICAgICBfdGhpczIub3JkZXJUaW1lID0gcmVzLmRhdGEudGltZTsKICAgICAgfSk7CiAgICB9LAogICAgLy8gaGFuZGxlQWRkcmVzc0NoYW5lKCkgewogICAgLy8gICBjb25zb2xlLmxvZyh0aGlzLmFkZHJlc3MpOwogICAgLy8gfSwKICAgIG9wZW5EaWFsb2c6IGZ1bmN0aW9uIG9wZW5EaWFsb2coKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgcGF5T3JkZXJzOiBmdW5jdGlvbiBwYXlPcmRlcnMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmVxdWVzdC5nZXQoIi9jYXJ0L3VwZGF0ZVN0YXR1cy8iICsgdGhpcy5vcmRlck5vLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBhZGRyZXNzOiB0aGlzLmFkZHJlc3MKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CgogICAgICAgIF90aGlzMy4kcm91dGVyLnB1c2goewogICAgICAgICAgcGF0aDogJy9vcmRlclBheWVkJywKICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgIG9yZGVyTm86IF90aGlzMy5vcmRlck5vCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGdvQmFjazogZnVuY3Rpb24gZ29CYWNrKCkgewogICAgICB0aGlzLiRyb3V0ZXIuYmFjaygpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["D:\\SpringBoot\\demoSpringBootVue\\springbootvue\\src\\views\\shopping\\order.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <SysHeader></SysHeader>\r\n  <IndexCarousel></IndexCarousel>\r\n  <br />\r\n  <el-row>\r\n    <el-col :span=\"7\"></el-col>\r\n    <el-col :span=\"12\">\r\n      <el-page-header content=\"订单：未支付\" @click=\"goBack\" />\r\n    </el-col>\r\n    <el-col :span=\"4\"></el-col>\r\n  </el-row>\r\n\r\n  <el-row>\r\n    <el-col :span=\"8\"></el-col>\r\n    <el-col :span=\"8\">\r\n      <el-divider></el-divider>\r\n      <div class=\"orderDetails\">\r\n        <span>请选择您的收货地址：</span>\r\n        <div style=\"width: 100%; height: 8px\"></div>\r\n        <el-select\r\n          v-model=\"address\"\r\n          placeholder=\"请选择\"\r\n          @change=\"handleAddressChane\"\r\n          style=\"width: 415px\"\r\n        >\r\n          <el-option v-for=\"item in addressList\" :key=\"item\" :value=\"item\">{{\r\n            item\r\n          }}</el-option>\r\n        </el-select>\r\n      </div>\r\n      <el-divider></el-divider>\r\n      <el-card>\r\n        <div class=\"orderDetails\">\r\n          <span>订单号：{{ orderNo }} </span>\r\n          <!-- <br />\r\n          <span>金额： {{ totalPrice }} </span> -->\r\n          <br />\r\n          <span>支付时间： {{ orderTime }} </span>\r\n          <br />\r\n        </div>\r\n      </el-card>\r\n      <el-divider></el-divider>\r\n\r\n      <el-card v-for=\"item in medicineList\" :key=\"item\">\r\n        <el-row>\r\n          <el-col :span=\"8\">\r\n            <el-image style=\"width: 100px; height: 100px\" :src=\"item.iconPath\"></el-image>\r\n          </el-col>\r\n          <el-col :span=\"2\"></el-col>\r\n          <el-col :span=\"12\">\r\n            <div class=\"medInfo\">\r\n              <br />\r\n              <span>{{ item.name }}</span>\r\n              <br />\r\n              <span>￥：{{ item.price }} x {{ item.medicineNum }}</span>\r\n              <br />\r\n              <span>{{ item.type }}</span>\r\n            </div>\r\n          </el-col>\r\n        </el-row>\r\n      </el-card>\r\n\r\n      <el-divider></el-divider>\r\n\r\n      <div style=\"text-align: right\">\r\n        <span style=\"font-size: 20px\">总价￥：</span>\r\n        <span style=\"color: orangered; font-size: 24px\"> {{ totalPrice }}</span>\r\n      </div>\r\n      <div style=\"width: 100%; height: 12px\"></div>\r\n      <div style=\"text-align: right\">\r\n        <el-button style=\"width: 120px\" type=\"danger\" round @click=\"openDialog\"\r\n          >去支付</el-button\r\n        >\r\n      </div>\r\n    </el-col>\r\n    <el-col :span=\"8\"></el-col>\r\n  </el-row>\r\n  <div style=\"width: 100%; height: 200px\"></div>\r\n\r\n  <el-dialog v-model=\"dialogVisible\">\r\n    <el-image style=\"max-width: 300px\" :src=\"alipay\" ></el-image>\r\n    <template #footer>\r\n      <span class=\"dialog-footer\">\r\n        <el-button @click=\"dialogVisible = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"payOrders\">支付完成</el-button>\r\n      </span>\r\n    </template>\r\n  </el-dialog>\r\n  <SysBottom></SysBottom>\r\n</template>\r\n\r\n<script>\r\nimport SysHeader from \"../../components/sys/SysHeader.vue\";\r\nimport IndexCarousel from \"../../components/sys/IndexCarousel.vue\";\r\nimport SysBottom from \"../../components/sys/SysBottom.vue\";\r\nimport request from \"@/utils/request.js\";\r\n\r\nexport default {\r\n  name: \"\",\r\n  components: {\r\n    SysHeader,\r\n    IndexCarousel,\r\n    SysBottom,\r\n  },\r\n  data() {\r\n    return {\r\n      user: JSON.parse(sessionStorage.getItem(\"user\")),\r\n      orderNo: this.$route.query.orderNo,\r\n      totalPrice: 0,\r\n      orderTime: \"2022-05-04\",\r\n      addressList: [],\r\n      address: \"\",\r\n      medicineList: [],\r\n      dialogVisible: false,\r\n      alipay: \"http://localhost:9090/files/alipay.jpg\",\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getMyAddress();\r\n    this.load();\r\n  },\r\n  methods: {\r\n    getMyAddress() {\r\n      request.get(\"/address/addressToOrder/\" + this.user.id).then((res) => {\r\n        // console.log(res);\r\n        this.addressList = res.data.reduce((Arr, next) => {\r\n          return [...Arr, next.address];\r\n        }, []);\r\n        console.log(this.addressList);\r\n      });\r\n    },\r\n    load() {\r\n      console.log(this.orderNo);\r\n      request.get(\"/cart/getOrderMedicineList/\" + this.orderNo).then((res) => {\r\n        this.medicineList = res.data.reduce((Arr, next) => {\r\n          return [...Arr, next];\r\n        }, []);\r\n        console.log(this.medicineList);\r\n      });\r\n      //获取当前订单总价和支付状态\r\n      request.get(\"/cart/getOrderStatus/\" + this.orderNo).then((res) => {\r\n        console.log(res);\r\n        this.totalPrice = res.data.totalPrice;\r\n        this.orderTime = res.data.time;\r\n      });\r\n    },\r\n    // handleAddressChane() {\r\n    //   console.log(this.address);\r\n    // },\r\n    openDialog() {\r\n      this.dialogVisible = true;\r\n    },\r\n    payOrders() {\r\n      request.get(\"/cart/updateStatus/\" + this.orderNo, {\r\n        params: {\r\n          address: this.address\r\n        }\r\n      }).then((res) => {\r\n        console.log(res);\r\n        this.$router.push({\r\n          path: '/orderPayed',\r\n          query: {\r\n            orderNo: this.orderNo\r\n          }\r\n        })\r\n      })\r\n    },\r\n    goBack() {\r\n      this.$router.back()\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.orderDetails {\r\n  /* text-align: center; */\r\n}\r\n.orderDetails span {\r\n  display: flex;\r\n}\r\n.medInfo {\r\n}\r\n.medInfo span {\r\n  display: flex;\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}