(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b611ff2"],{9236:function(e,t,o){"use strict";o.r(t);o("ac1f"),o("841c"),o("b0c0");var n=o("7a23"),a={class:"home"},c=Object(n["createTextVNode"])("新增"),r=Object(n["createTextVNode"])("导出"),l=Object(n["createTextVNode"])("查询"),i=Object(n["createTextVNode"])("编辑"),d=Object(n["createTextVNode"])("删除"),u={class:"demo-pagination-block",style:{margin:"10px 0"}},s=Object(n["createTextVNode"])("处方药"),b=Object(n["createTextVNode"])("非处方药"),f={class:"dialog-footer"},m=Object(n["createTextVNode"])("Cancel"),p=Object(n["createTextVNode"])("确定");function h(e,t,o,h,O,j){var V=Object(n["resolveComponent"])("el-button"),g=Object(n["resolveComponent"])("el-input"),C=Object(n["resolveComponent"])("el-table-column"),N=Object(n["resolveComponent"])("el-popconfirm"),x=Object(n["resolveComponent"])("el-table"),w=Object(n["resolveComponent"])("el-pagination"),y=Object(n["resolveComponent"])("el-form-item"),v=Object(n["resolveComponent"])("el-radio"),_=Object(n["resolveComponent"])("el-date-picker"),k=Object(n["resolveComponent"])("el-form"),z=Object(n["resolveComponent"])("el-dialog");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",a,[Object(n["createElementVNode"])("div",null,[Object(n["createVNode"])(V,{type:"primary",onClick:j.add},{default:Object(n["withCtx"])((function(){return[c]})),_:1},8,["onClick"]),Object(n["createVNode"])(V,{type:"primary"},{default:Object(n["withCtx"])((function(){return[r]})),_:1})]),Object(n["createElementVNode"])("div",null,[Object(n["createVNode"])(g,{style:{margin:"10px 20px 10px 0",width:"20%"},modelValue:O.search,"onUpdate:modelValue":t[0]||(t[0]=function(e){return O.search=e}),placeholder:"请输入关键字",clearable:""},null,8,["modelValue"]),Object(n["createVNode"])(V,{type:"primary",onClick:j.load},{default:Object(n["withCtx"])((function(){return[l]})),_:1},8,["onClick"])]),Object(n["createElementVNode"])("div",null,[Object(n["createVNode"])(x,{data:O.tableData,stripe:""},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(C,{prop:"id",label:"ID"}),Object(n["createVNode"])(C,{prop:"name",label:"药品名"}),Object(n["createVNode"])(C,{prop:"price",label:"价格"}),Object(n["createVNode"])(C,{prop:"stock",label:"库存"}),Object(n["createVNode"])(C,{prop:"type",label:"类型"}),Object(n["createVNode"])(C,{prop:"productionDate",label:"生产日期"}),Object(n["createVNode"])(C,{prop:"productionUnit",label:"生产单位"}),Object(n["createVNode"])(C,{label:"操作"},{default:Object(n["withCtx"])((function(e){return[Object(n["createVNode"])(V,{size:"small",onClick:function(t){return j.handleEdit(e.$index,e.row)}},{default:Object(n["withCtx"])((function(){return[i]})),_:2},1032,["onClick"]),Object(n["createVNode"])(N,{title:"确定删除？",onConfirm:function(t){return j.handleDelete(e.$index,e.row.id)}},{reference:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(V,{size:"small",type:"danger"},{default:Object(n["withCtx"])((function(){return[d]})),_:1})]})),_:2},1032,["onConfirm"])]})),_:1})]})),_:1},8,["data"]),Object(n["createElementVNode"])("div",u,[Object(n["createVNode"])(w,{currentPage:O.currentPage4,"onUpdate:currentPage":t[1]||(t[1]=function(e){return O.currentPage4=e}),"page-sizes":[5,10,20],"page-size":O.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:O.total,onSizeChange:j.handleSizeChange,onCurrentChange:j.handleCurrentChange},null,8,["currentPage","page-size","total","onSizeChange","onCurrentChange"])])]),Object(n["createVNode"])(z,{modelValue:O.dialogVisible,"onUpdate:modelValue":t[10]||(t[10]=function(e){return O.dialogVisible=e}),title:"药品新增",width:"30%"},{footer:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("span",f,[Object(n["createVNode"])(V,{onClick:t[9]||(t[9]=function(e){return O.dialogVisible=!1})},{default:Object(n["withCtx"])((function(){return[m]})),_:1}),Object(n["createVNode"])(V,{type:"primary",onClick:j.save},{default:Object(n["withCtx"])((function(){return[p]})),_:1},8,["onClick"])])]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(k,{model:O.form,"label-width":"120px"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(y,{label:"药品名",style:{width:"80%"}},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(g,{modelValue:O.form.name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return O.form.name=e})},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(y,{label:"价格",style:{width:"80%"}},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(g,{modelValue:O.form.price,"onUpdate:modelValue":t[3]||(t[3]=function(e){return O.form.price=e})},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(y,{label:"库存",style:{width:"80%"}},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(g,{modelValue:O.form.stock,"onUpdate:modelValue":t[4]||(t[4]=function(e){return O.form.stock=e})},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(y,{label:"类型",style:{width:"80%"}},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",null,[Object(n["createVNode"])(v,{label:"处方药",modelValue:O.form.type,"onUpdate:modelValue":t[5]||(t[5]=function(e){return O.form.type=e}),size:"small"},{default:Object(n["withCtx"])((function(){return[s]})),_:1},8,["modelValue"]),Object(n["createVNode"])(v,{label:"非处方药",modelValue:O.form.type,"onUpdate:modelValue":t[6]||(t[6]=function(e){return O.form.type=e}),size:"small"},{default:Object(n["withCtx"])((function(){return[b]})),_:1},8,["modelValue"])])]})),_:1}),Object(n["createVNode"])(y,{label:"生产时间",style:{width:"80%"}},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(_,{modelValue:O.form.productionDate,"onUpdate:modelValue":t[7]||(t[7]=function(e){return O.form.productionDate=e}),"value-format":"YYYY-MM-DD",type:"date",style:{width:"100%"},clearable:""},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(y,{label:"生产厂家",style:{width:"80%"}},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(g,{modelValue:O.form.productionUnit,"onUpdate:modelValue":t[8]||(t[8]=function(e){return O.form.productionUnit=e}),type:"textarea"},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model"])]})),_:1},8,["modelValue"])])}o("e9c4");var O=o("0748"),j=o("b775"),V={name:"Medicine",components:{Table:O["a"]},data:function(){return{form:{},search:"",tableData:[],dialogVisible:!1,currentPage4:1,pageSize:5,total:22}},created:function(){this.load()},methods:{add:function(){this.dialogVisible=!0,this.form={}},save:function(){var e=this;this.form.id?(console.log(this.form),j["a"].put("/medicine/edit",this.form).then((function(t){console.log(t),"0"==t.code?e.$message({type:"success",message:"新增成功"}):e.$message({type:"error",message:res.msg}),e.load(),e.dialogVisible=!1}))):(j["a"].post("/medicine",this.form).then((function(t){console.log(t),console.log(e.form),"0"==t.code?e.$message({type:"success",message:"新增成功"}):e.$message({type:"error",message:t.msg})})),this.load(),this.dialogVisible=!1)},load:function(){var e=this;j["a"].get("/medicine",{params:{pageNum:this.currentPage4,pageSize:this.pageSize,search:this.search}}).then((function(t){console.log(t),e.tableData=t.data.records,e.total=t.data.total})).catch((function(e){}))},handleEdit:function(e,t){this.form=JSON.parse(JSON.stringify(t)),this.dialogVisible=!0},handleDelete:function(e,t){var o=this;console.log(t),j["a"].delete("/medicine/"+t).then((function(e){console.log(e),0==e.code?o.$message({type:"success",message:"delete successfully"}):o.$message({type:"error",message:e.msg})})),this.load()},handleSizeChange:function(e){this.pageSize=e,this.load()},handleCurrentChange:function(e){this.pageNum=e,this.load()}}},g=(o("d4f8"),o("6b0d")),C=o.n(g);const N=C()(V,[["render",h],["__scopeId","data-v-2547252a"]]);t["default"]=N},c181:function(e,t,o){},d4f8:function(e,t,o){"use strict";o("c181")},e9c4:function(e,t,o){var n=o("23e7"),a=o("da84"),c=o("d066"),r=o("2ba4"),l=o("e330"),i=o("d039"),d=a.Array,u=c("JSON","stringify"),s=l(/./.exec),b=l("".charAt),f=l("".charCodeAt),m=l("".replace),p=l(1..toString),h=/[\uD800-\uDFFF]/g,O=/^[\uD800-\uDBFF]$/,j=/^[\uDC00-\uDFFF]$/,V=function(e,t,o){var n=b(o,t-1),a=b(o,t+1);return s(O,e)&&!s(j,a)||s(j,e)&&!s(O,n)?"\\u"+p(f(e,0),16):e},g=i((function(){return'"\\udf06\\ud834"'!==u("\udf06\ud834")||'"\\udead"'!==u("\udead")}));u&&n({target:"JSON",stat:!0,forced:g},{stringify:function(e,t,o){for(var n=0,a=arguments.length,c=d(a);n<a;n++)c[n]=arguments[n];var l=r(u,null,c);return"string"==typeof l?m(l,h,V):l}})}}]);
//# sourceMappingURL=chunk-5b611ff2.2085de77.js.map